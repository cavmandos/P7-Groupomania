{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"LoginView\",\n  data: function data() {\n    return {\n      user: {\n        email: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      axios.post('http://localhost:3000/auth/login', {\n        email: this.user.email,\n        password: this.user.password\n      }).then(function (res) {\n        console.log(res);\n        localStorage.setItem('connectedUser', JSON.stringify(res.data));\n        Swal.fire({\n          text: \"Connexion réussie\",\n          footer: \"Redirection en cours...\",\n          icon: \"success\",\n          timer: 1000,\n          showConfirmButton: false,\n          timerProgressBar: true\n        });\n\n        _this.$router.push(\"/main\");\n      }).catch(function (error) {\n        alert(error.response.data.error);\n      });\n    },\n    //Go to register or main menu\n    goToRegister: function goToRegister() {\n      this.$router.push('/register');\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC;AACAC,iBADA;AAEAC;AAFA;AADA;AAMA,GATA;AAUAC;AACAC,SADA,mBACA;AAAA;;AACAC;AAAAJ;AAAAC;AAAA,SACAI,IADA,CACA;AACAC;AACAC;AACAC;AACAC,mCADA;AAEAC,2CAFA;AAGAC,yBAHA;AAIAC,qBAJA;AAKAC,kCALA;AAMAC;AANA;;AAQA;AACA,OAbA,EAcAC,KAdA,CAcA;AACAC;AACA,OAhBA;AAiBA,KAnBA;AAoBA;AACAC,gBArBA,0BAqBA;AACA;AACA;AAvBA;AAVA","names":["name","data","user","email","password","methods","login","axios","then","console","localStorage","Swal","text","footer","icon","timer","showConfirmButton","timerProgressBar","catch","alert","goToRegister"],"sourceRoot":"src/components","sources":["LoginView.vue"],"sourcesContent":["<template>\n   <v-app >\n      <v-main>\n         <v-container fluid fill-height>\n            <v-layout justify-center>\n               <v-flex xs12 sm8 md4>\n                  <v-card class=\"elevation-12\">\n                     <v-toolbar class=\"red lighten-4\">\n                        <v-toolbar-title>Se connecter</v-toolbar-title>\n                     </v-toolbar>\n                     <v-card-text>\n                     <form ref=\"form\" @submit.prevent=\"login()\">\n                            <v-text-field\n                              v-model=\"email\"\n                              name=\"email\"\n                              label=\"Email\"\n                              type=\"text\"\n                              placeholder=\"Votre adresse email\"\n                              required\n                           ></v-text-field>\n                           \n                            <v-text-field\n                              v-model=\"password\"\n                              name=\"password\"\n                              label=\"Mot de passe\"\n                              type=\"password\"\n                              placeholder=\"Votre mot de passe\"\n                              required\n                           ></v-text-field>\n                           <div class=\"btnCtn\">\n                              <v-btn type=\"submit\" class=\"mt-4 rounded-pill\" color=\"red lighten-4\" value=\"log in\">Se connecter</v-btn>\n                              <v-btn @click=\"goToRegister()\" class=\"mt-4 rounded-pill\" color=\"red lighten-5\">Créer un compte</v-btn>\n                           </div>\n                      </form>\n                     </v-card-text>\n                  </v-card>\n                \n               </v-flex>\n            </v-layout>\n         </v-container>\n      </v-main>\n   </v-app>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"LoginView\",\n  data() {\n    return {\n      user : {\n      email: \"\",\n      password: \"\"\n      }\n    };\n  },\n  methods: {\n    login() {\n      axios.post('http://localhost:3000/auth/login', { email: this.user.email, password: this.user.password })\n        .then(res =>{\n            console.log(res);\n            localStorage.setItem('connectedUser', JSON.stringify(res.data));\n            Swal.fire({\n                    text: \"Connexion réussie\",\n                    footer: \"Redirection en cours...\",\n                    icon: \"success\",\n                    timer: 1000,\n                    showConfirmButton: false,\n                    timerProgressBar: true,\n                })\n            this.$router.push(\"/main\");\n        })\n        .catch(error =>{\n            alert(error.response.data.error)\n        })\n    },\n    //Go to register or main menu\n    goToRegister(){\n      this.$router.push('/register');\n      },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n   .btnCtn {\n      display: flex;\n      justify-content: space-between;\n   }\n</style>"]},"metadata":{},"sourceType":"module"}