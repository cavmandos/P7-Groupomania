{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"LoginView\",\n  data: function data() {\n    return {\n      email: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      var email = this.email;\n      var password = this.password;\n      axios.post(\"http://localhost:3000/auth/login\", {\n        email: email,\n        password: password\n      }).then(function (res) {\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\n        Swal.fire({\n          text: \"Connexion réussie\",\n          footer: \"Redirection en cours...\",\n          icon: \"success\",\n          timer: 1500,\n          showConfirmButton: false,\n          timerProgressBar: true\n        });\n\n        _this.$router.push(\"/main\");\n      }).catch(function (err) {\n        _this.valid = false;\n        _this.error = err.response.data.message;\n        Swal.fire({\n          title: \"Oups\",\n          text: \"Le mail/mot de passe n'est pas bon\",\n          icon: \"error\"\n        });\n      });\n    },\n    //Go to register\n    goToRegister: function goToRegister() {\n      this.$router.push(\"/register\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACAA,mBADA;AAEAC;AACA;AACAC,eADA;AAEAC;AAFA;AAIA,GAPA;AAQAC;AACAC,SADA,mBACA;AAAA;;AACA;AACA;AACAC,YACAC,IADA,CACA,kCADA,EACA;AACAL,oBADA;AAEAC;AAFA,OADA,EAKAK,IALA,CAKA;AACAC;AACAC;AACAC,mCADA;AAEAC,2CAFA;AAGAC,yBAHA;AAIAC,qBAJA;AAKAC,kCALA;AAMAC;AANA;;AAQA;AACA,OAhBA,EAiBAC,KAjBA,CAiBA;AACA;AACA;AACAP;AACAQ,uBADA;AAEAP,oDAFA;AAGAE;AAHA;AAKA,OAzBA;AA0BA,KA9BA;AA+BA;AACAM,gBAhCA,0BAgCA;AACA;AACA;AAlCA;AARA","names":["name","data","email","password","methods","login","axios","post","then","localStorage","Swal","text","footer","icon","timer","showConfirmButton","timerProgressBar","catch","title","goToRegister"],"sourceRoot":"src/components","sources":["LoginView.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-main>\n      <v-container fluid fill-height>\n        <v-layout justify-center>\n          <v-flex xs12 sm8 md4>\n            <v-card class=\"elevation-12\">\n              <v-toolbar class=\"red lighten-4\">\n                <v-toolbar-title>Se connecter</v-toolbar-title>\n              </v-toolbar>\n              <v-card-text>\n                <form ref=\"form\" @submit.prevent=\"login()\">\n                  <v-text-field\n                    v-model=\"email\"\n                    name=\"email\"\n                    label=\"Email\"\n                    type=\"text\"\n                    placeholder=\"Votre adresse email\"\n                    required\n                  ></v-text-field>\n\n                  <v-text-field\n                    v-model=\"password\"\n                    name=\"password\"\n                    label=\"Mot de passe\"\n                    type=\"password\"\n                    placeholder=\"Votre mot de passe\"\n                    required\n                  ></v-text-field>\n                  <div class=\"btnCtn\">\n                    <v-btn\n                      type=\"submit\"\n                      class=\"btnCc\"\n                      color=\"red lighten-4\"\n                      value=\"log in\"\n                      >Se connecter</v-btn\n                    >\n                    <v-btn\n                      @click=\"goToRegister()\"\n                      class=\"mt-4 rounded-pill\"\n                      color=\"red lighten-5\"\n                      >Créer un compte</v-btn\n                    >\n                  </div>\n                </form>\n              </v-card-text>\n            </v-card>\n          </v-flex>\n        </v-layout>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nexport default {\n  name: \"LoginView\",\n  data: function () {\n    return {\n      email: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    login() {\n      let email = this.email;\n      let password = this.password;\n      axios\n        .post(\"http://localhost:3000/auth/login\", {\n          email,\n          password,\n        })\n        .then((res) => {\n          localStorage.setItem(\"user\", JSON.stringify(res.data));\n          Swal.fire({\n            text: \"Connexion réussie\",\n            footer: \"Redirection en cours...\",\n            icon: \"success\",\n            timer: 1500,\n            showConfirmButton: false,\n            timerProgressBar: true,\n          });\n          this.$router.push(\"/main\");\n        })\n        .catch((err) => {\n          this.valid = false;\n          this.error = err.response.data.message;\n          Swal.fire({\n            title: \"Oups\",\n            text: \"Le mail/mot de passe n'est pas bon\",\n            icon: \"error\",\n          });\n        });\n    },\n    //Go to register\n    goToRegister() {\n      this.$router.push(\"/register\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.btnCtn {\n  display: flex;\n  justify-content: space-between;\n}\n\n.btnCc {\n  @media screen and (max-width: 500px) {\n    width: 10px;\n    font-size: 0px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}